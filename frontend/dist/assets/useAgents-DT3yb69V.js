import{a as e,u as t,b as a}from"./vendor-query-CC2jgEBg.js";import{h as n,a as r,i}from"./index-DqyBRKho.js";const o="agents";function s(t){const a=void 0;return e({queryKey:[o,a],queryFn:async()=>{try{return(await r.list(a)).data}catch(e){throw i(e)&&n(e,"Failed to fetch agents"),e}},staleTime:5e3,refetchInterval:1e4})}function u(){const e=t();return a({mutationFn:async({id:e,action:t})=>{await r.control(e,t)},onSuccess:(t,a)=>{e.invalidateQueries({queryKey:["agent",a.id]}),e.invalidateQueries({queryKey:[o]})},onError:(e,t)=>{n(e,`Failed to ${t.action} agent ${t.id}`)}})}function c(){const e=t();return a({mutationFn:async e=>{await r.delete(e)},onSuccess:()=>{e.invalidateQueries({queryKey:[o]})},onError:(e,t)=>{n(e,`Failed to delete agent ${t}`)}})}export{u as a,c as b,s as u};
