import{r as e,j as s}from"./vendor-react-DUoQhEpM.js";import{u as l,a,b as t}from"./useAgents-B1G2yQRq.js";import{L as r,c as o}from"./index-BT5BEwDb.js";import{c as n,P as i,S as c,F as d,h as x,A as g,e as u,i as m,Z as b,f as h,g as p,j,R as f,k as y}from"./vendor-icons-KwL3JnsX.js";import"./vendor-router-Cg48UhP-.js";import"./vendor-query-CC2jgEBg.js";import"./vendor-http-B5K7MVzt.js";import"./vendor-B7sF_03a.js";const N={idle:{icon:p,color:"text-gray-500",bgColor:"bg-gray-100",label:"Idle"},initializing:{icon:g,color:"text-yellow-500",bgColor:"bg-yellow-100",label:"Initializing"},ready:{icon:h,color:"text-green-500",bgColor:"bg-green-100",label:"Ready"},busy:{icon:b,color:"text-blue-500",bgColor:"bg-blue-100",label:"Busy"},paused:{icon:m,color:"text-orange-500",bgColor:"bg-orange-100",label:"Paused"},error:{icon:u,color:"text-red-500",bgColor:"bg-red-100",label:"Error"},shutting_down:{icon:g,color:"text-gray-500",bgColor:"bg-gray-100",label:"Shutting Down"},offline:{icon:x,color:"text-gray-600",bgColor:"bg-gray-100",label:"Offline"}};function v(){const{data:o,isLoading:x}=l(),g=a(),u=t(),[m,b]=e.useState(""),[h,p]=e.useState(""),j=e.useMemo(()=>o?o.filter(e=>{const s=e.name.toLowerCase().includes(m.toLowerCase())||e.capabilities.some(e=>e.toLowerCase().includes(m.toLowerCase())),l=!h||e.status===h;return s&&l}):[],[o,m,h]),f=e.useMemo(()=>o?{total:o.length,ready:o.filter(e=>"ready"===e.status).length,busy:o.filter(e=>"busy"===e.status).length,error:o.filter(e=>"error"===e.status).length,offline:o.filter(e=>"offline"===e.status).length}:null,[o]),y=e.useCallback((e,s)=>{g.mutate({id:e.id,action:s})},[g]),v=e.useCallback(e=>{confirm(`Are you sure you want to delete agent "${e.name}"?`)&&u.mutate(e.id)},[u]);return x?s.jsx("div",{className:"p-8",children:s.jsx(r,{size:"lg",text:"Loading agents..."})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(n,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agent Fleet"}),s.jsx("p",{className:"text-gray-500",children:"Manage your AI agents"})]})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(i,{className:"h-4 w-4"}),"Add Agent"]})]}),f&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(C,{label:"Total",value:f.total,color:"gray"}),s.jsx(C,{label:"Ready",value:f.ready,color:"green"}),s.jsx(C,{label:"Busy",value:f.busy,color:"blue"}),s.jsx(C,{label:"Error",value:f.error,color:"red"}),s.jsx(C,{label:"Offline",value:f.offline,color:"gray"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-600","aria-hidden":"true"}),s.jsx("input",{type:"text",placeholder:"Search agents by name or capability...",value:m,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-600","aria-hidden":"true"}),s.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"pl-10 pr-8 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white",children:[s.jsx("option",{value:"",children:"All Statuses"}),Object.entries(N).map(([e,l])=>s.jsx("option",{value:e,children:l.label},e))]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:j.map(e=>s.jsx(w,{agent:e,onControl:y,onDelete:v},e.id))}),0===j.length&&s.jsxs("div",{className:"p-8 text-center text-gray-600",children:[s.jsx(n,{className:"mx-auto mb-2 h-12 w-12","aria-hidden":"true"}),s.jsx("p",{className:"text-lg",children:"No agents found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})}function w({agent:e,onControl:l,onDelete:a}){const t=N[e.status],r=t.icon;return s.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:o("p-2 rounded-lg",t.bgColor),children:s.jsx(n,{className:o("h-5 w-5",t.color)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.agent_type})]})]}),s.jsxs("div",{className:o("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",t.bgColor,t.color),children:[s.jsx(r,{className:"h-3 w-3"}),t.label]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Capabilities"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.capabilities.slice(0,4).map(e=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:e},e)),e.capabilities.length>4&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",e.capabilities.length-4," more"]})]})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:["ready"===e.status&&s.jsx("button",{onClick:()=>l(e,"pause"),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",title:"Pause",children:s.jsx(m,{className:"h-4 w-4"})}),"paused"===e.status&&s.jsx("button",{onClick:()=>l(e,"resume"),className:"p-1.5 hover:bg-green-100 rounded-lg text-green-600",title:"Resume",children:s.jsx(j,{className:"h-4 w-4"})}),("ready"===e.status||"busy"===e.status)&&s.jsx("button",{onClick:()=>l(e,"restart"),className:"p-1.5 hover:bg-blue-100 rounded-lg text-blue-600",title:"Restart",children:s.jsx(f,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>l(e,"stop"),className:"p-1.5 hover:bg-red-100 rounded-lg text-red-600",title:"Stop",children:s.jsx(x,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:()=>a(e),className:"p-1.5 hover:bg-red-100 rounded-lg text-red-600",title:"Delete",children:s.jsx(y,{className:"h-4 w-4"})})]})]})}function C({label:e,value:l,color:a}){return s.jsxs("div",{className:o("px-4 py-3 rounded-lg text-center",{gray:"bg-gray-100 text-gray-600",green:"bg-green-100 text-green-600",blue:"bg-blue-100 text-blue-600",red:"bg-red-100 text-red-600"}[a]),children:[s.jsx("div",{className:"text-2xl font-bold",children:l}),s.jsx("div",{className:"text-xs opacity-75",children:e})]})}export{v as default};
